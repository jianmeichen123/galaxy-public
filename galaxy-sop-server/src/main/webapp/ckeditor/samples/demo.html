<!DOCTYPE html>
<!--
Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
-->
<html>
<head>
	<meta charset="utf-8">
	<title>CKEditor Sample</title>
  <script src="../jquery-1.12.2.min.js"></script>
	<script src="../ckeditor.js"></script>
    <script src="../adapters/jquery.js"></script>
    <script src="../config.js"></script>	
	<link rel="stylesheet" href="css/samples.css">
	<link rel="stylesheet" href="toolbarconfigurator/lib/codemirror/neo.css">
</head>
<body>
	<div style="width:80%;margin:20px auto">
		<textarea  id="editor" rows="10" cols="80"></textarea>
		<a href="#" class="btn1">click</a>
		<a href="#" class="btn2">clickagin</a>
		<div id="num"></div>
	</div>
<script>
var editor=CKEDITOR.replace( 'editor',{height:'300px'} );
//var editor=$("#editor").ckeditor(function(){});
 CKEDITOR.instances.editor.setData( '<p>测试</p>' );  //set值
   function delHtmlTag(str){  
        return str.replace(/<[^>]+>/g,"");//去掉所有的html标记  
    }  
  $(".btn1").click(function(){   //获取值
  	var data = CKEDITOR.instances.editor.getData();   //get值
  	//alert(delHtmlTag(data).trim().length);
  	$("#num").html(data);
  })
   $(".btn2").click(function(){  //赋值
  	var data = $("#num").html();
    editor.setData(data);
  	// CKEDITOR.instances.editor.setData( data  );
  	//$("#num").html(data);
  })
    editor.on( 'change', function() {    //录入内容长度检测
    // getData() returns CKEditor's HTML content.
    console.log( 'Total bytes: ' + editor.getData().length );   //获取录入html内容长度，清空无任何标签
     console.log( 'Total bytes: ' + editor.document.getBody().getHtml().length );  //获取录入html内容长度,清空，保留html标签的长度
    console.log( 'Total bytes: ' + editor.document.getBody().getText().trim().length );   //获取录入纯文本长度
   
});






  
</script>

</body>
</html>
